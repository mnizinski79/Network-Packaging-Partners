function initParallax(){function e(){$(".parallax-image-container").css({width:n.outerWidth(),height:n.outerHeight(),backgroundImage:a}),$(".parallax-image-container").css("top",function(){var e="relative"===$("header").css("position")?$("header").outerHeight():0,t=$(this).offset(),n=t.top,a=n+e;return a})}function t(){var e="relative"===$("header").css("position")?$("header").outerHeight():0;$(".parallax-image-container").css("top",function(){var t=-$(window).scrollTop()*o+e;return t})}var n=$(".parallax"),a=n.css("background-image"),i="<div class='parallax-image-container'></div>";n.append(i),e(),n.removeAttr("style");var o=null!==_globalSpeed?_globalSpeed:.5;$(window).scroll(t),$(window).resize(e)}function getBackgroundPos(e){var t=e.css("background-position");return t="undefined"===t||null===t?[e.css("background-position-x"),e.css("background-position-y")]:t.split(" "),{x:parseFloat(t[0]),xUnit:t[0].replace(/[0-9-.]/g,""),y:parseFloat(t[1]),yUnit:t[1].replace(/[0-9-.]/g,"")}}function initPosMessage(){$(".branding-box").each(function(){function e(){a=getBackgroundPos(n).y,i=$(window).width(),o=$(window).height(),r=n.height(),s=1.5*r,l=s-r,c=l/o,_globalSpeed=c,d=i>o?!0:!1}function t(){if(d===!0){var e="center "+-($(window).scrollTop()*_globalSpeed)+"px";n.css({"background-position":e})}}var n=$(this),a,i,o,r,s,c,l,d;t(),e(),$(window).scroll(t),$(window).resize(e)})}function initFooter(){function e(){n=getBackgroundPos($(".sub-footer")).y,a=$(window).width(),i=$(window).height(),o=1.125,r=$("#container").height(),s=o*a,l=s-i,c=l/r,d=a>i?!0:!1}function t(){if(d===!0){var e="center "+-($(window).scrollTop()*c)+"px";$(".sub-footer").css({"background-position":e})}}var n,a,i,o,r,s,c,l,d;t(),e(),$(window).scroll(t),$(window).resize(e)}function initMobileTrigger(){$(".nav-trigger").click(function(e){e.preventDefault(),$("body").toggleClass("mobile-nav-open")})}function initCarousel(){$(".carousel").each(function(e){function t(e){var t=e.data.directive,n=e.target,i;i=e.data.swipeTarget?e.data.swipeTarget:$(n).attr("data-carousel");var o=$("#"+i).find(".carousel").first(),r=parseInt(u*c),l=parseInt(o.css("left")),p=r*(s-1),f=$(n).attr("data-index"),h;"moveNext"===t?l>-p&&(h=l-r,o.css({left:h}),d+=1,a()):"movePrev"===t?0>l&&(h=l+r,o.css({left:h}),d-=1,a()):"jump"===t&&(h=-(r*f),o.css({left:h}),d=parseInt(f)+1,a())}function n(){$("#navDots_"+v).remove(),g="";for(var e=0;s>e;e++)g+=0===e?"<span class='nav-dot-current' data-index='"+e+"' data-carousel='"+v+"'></span>":"<span data-index='"+e+"' data-carousel='"+v+"'></span>";$("<div id='navDots_"+v+"' class='nav-dots'>"+g+"</div>").appendTo(l),$("#navDots_"+v).find("span").click({directive:"jump"},t)}function a(){$("#navDots_"+v).find("span").each(function(){var e=$(this);$(this).removeClass("nav-dot-current"),parseInt(e.attr("data-index"))===parseInt(d-1)&&e.addClass("nav-dot-current")})}var i=$(this),o=i.find(".carousel-item"),r=o.length,s=1,c=1,l=i.parent(),d=1,p,u,f,h,g="",v="carousel_"+e,w="<div class='carousel-wrapper' id='"+v+"'></div>";i.wrap(w);var m=function(){p=i.parent().outerWidth(),$(window).outerWidth()<620?(f=.02*p,u=.9*p+f,h=u*r,c=1):(f=.02*p,u=p/4+f/4,h=u*r,c=4),s=Math.ceil(r/c),o.each(function(){$(this).css({width:u,paddingRight:f})}),i.width(h),i.css("left",0),d=1};$("<div id='scrollControls_"+v+"' class='scrollControls'><div class='scroll-btn-prev' data-carousel='"+v+"'><span>prev</span></div><div class='scroll-btn-next' data-carousel='"+v+"'><span>next</span></div></div>").appendTo(l);var b=$("#"+v).hammer();b.on("swipeleft",{directive:"moveNext",swipeTarget:v},t),b.on("swiperight",{directive:"movePrev",swipeTarget:v},t),b.on("touch",function(e){e.gesture.preventDefault()}),$("#scrollControls_"+v).find(".scroll-btn-prev").click({directive:"movePrev"},t),$("#scrollControls_"+v).find(".scroll-btn-next").click({directive:"moveNext"},t),$(window).resize(function(){m(),n()}).trigger("resize")})}function initSearchToggle(){$("#secondary-nav li.btn-search a").wrapInner("<span></span>"),$("#secondary-nav li.btn-search a").click(function(e){e.preventDefault(),$(document).off(),$("#primary-search").off(),$("body").hasClass("mobile-nav-open")?($("body").removeClass("mobile-nav-open"),setTimeout(function(){$("body").toggleClass("search-open")},500)):($("body").toggleClass("search-open"),$("body").hasClass("search-open")?$("#primary-search input:first").focus():$("#primary-search input:first").blur()),$(window).outerWidth()<980&&($(document).click(function(){$("body").removeClass("search-open")}),$("#primary-search").click(function(e){e.stopPropagation()}))})}function initDatePicker(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();10>t&&(t="0"+t),10>n&&(n="0"+n);var i=n+"-"+t+"-"+a;$("#date-picker").DatePicker({flat:!0,date:i,current:i,format:"m-d-Y",calendars:1,starts:0,prev:"",next:"",onChange:function(e){$("#date-select").val(e)}})}function initPageLeads(){$(".page-lead:nth-child(3n+3)").attr("data-orientation","right"),$(".page-lead:nth-child(3n+2)").attr("data-orientation","center"),$(".page-lead:nth-child(3n+1)").attr("data-orientation","left"),$(".page-lead").hover(function(){function e(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}$("#page-modal-wrapper").delay(200).fadeOut(300,function(){$(this).remove()});var t=$(this),n=t.attr("data-title"),a=t.attr("data-content"),i=t.offset(),o=t.attr("data-orientation"),r=t.find("img"),s=r.attr("src"),c=s.substring(0,s.lastIndexOf(".")),l=s.substring(s.lastIndexOf("."));r.attr("src",c+"-hover"+l);var d="<div id='page-info-modal' class='"+o+"'><h3>"+n+"</h3><p>"+a+"</p></div>";$(d).prependTo("body").wrapAll("<div id='page-modal-wrapper'></div>").css({opacity:0,display:"block",top:i.top+t.outerHeight()-50}).delay(200).animate({top:i.top+t.outerHeight()-30,opacity:1},850,"easeOutExpo");var p=$("#page-info-modal");if(!e(p)){"function"==typeof jQuery&&p instanceof jQuery&&(p=p[0]);var u=p.getBoundingClientRect();$("htm,body").animate({scrollTop:$(window).scrollTop()+Math.abs(u.bottom-$(window).innerHeight())+40},550)}},function(){var e=$(this),t=e.find("img"),n=t.attr("src"),a=n.replace("-hover","");t.attr("src",a),$("#page-modal-wrapper").delay(200).fadeOut(150,function(){$(this).remove()})})}function initFormUpload(){$(".form-file").each(function(){function e(){var e="<div class='form-upload-cap'></div>'",t=$(e);t.appendTo(n)}var t=$(this),n=$("<label for='"+t.attr("id")+"'>Select a File (.JPG, .RTF, or .PDF)</label>");n.insertBefore(t),n.addClass("form-control"),t.addClass("file-upload-hide"),e(),t.change(function(){n.text(t.val().substr(t.val().lastIndexOf("\\")+1)),e()})})}function initShareLinks(){function e(e){var t;window.open(e,"Share This",t="height=440,width=520,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,directories=no,status=no")}$(".share-box a").click(function(){var t=$(this).attr("data-share"),n=window.location.href,a;return"twitter"===t?(a=encodeURI("https://twitter.com/intent/tweet?url="+String(n)),e(a)):"facebook"===t?(a=encodeURI("http://www.facebook.com/sharer/sharer.php?u="+String(n)),e(a)):"linkedin"===t?(a=encodeURI("http://www.linkedin.com/shareArticle?mini=true&url="+String(n)),e(a)):"googleplus"===t&&(a=encodeURI("https://plus.google.com/share?url="+String(n)),e(a)),!1})}var _globalSpeed=null;$(document).ready(function(){initMobileTrigger(),initCarousel(),initSearchToggle(),initPageLeads(),initDatePicker(),initFormUpload(),initShareLinks(),initPosMessage(),initParallax(),initFooter(),$(".secondary-content select").chosen()});
//# sourceMappingURL=./main-min.js.map