function initParalax(){function n(){$(".parallax").css("background-position",function(){var n=$(this).offset()+r,e=n.top,i="center "+-($(window).scrollTop()-e)*a+"px";return i})}function e(){t=$(window).height(),$(".covers").height()<t&&$(".covers").height(.8*t),n()}function i(){$(".parallax").css("background-position",function(){var n=$(this).offset(),e=n.top,i="center "+-($(window).scrollTop()-e)*a+"px";return i})}var t,a=.5,r="fixed"===$("header").css("position")?$("header").outerHeight():0;$(window).scroll(i),$(window).resize(e).trigger("resize")}function initMobileTrigger(){$(".nav-trigger").click(function(n){n.preventDefault(),$("body").toggleClass("mobile-nav-open")})}function initCarousel(){$(".carousel").each(function(n){var e=$(this),i=e.find(".carousel-item"),t=i.length,a=1,r=1,o=e.parent(),s,c,l,d,p="",u="carousel_"+n,f="<div class='carousel-wrapper' id='"+u+"'></div>";e.wrap(f);var v=function(){s=e.parent().outerWidth(),$(window).outerWidth()<620?(l=.02*s,c=.9*s+l,d=c*t,r=1):(l=.02*s,c=s/3+l/3,d=c*t,r=3),a=Math.ceil(t/r),i.each(function(){$(this).css({width:c,paddingRight:l})}),e.width(d)};v();for(var h=0;a>h;h++)p+=0===h?"<span class='nav-dot-current' data-index='"+h+"'></span>":"<span data-index='"+h+"'></span>";$("<div class='scrollControls'><div class='scroll-btn-prev' data-carousel='"+u+"'><span>prev</span></div><div class='scroll-btn-next' data-carousel='"+u+"'><span>next</span></div></div>").appendTo(o),$("<div class='nav-dots'>"+p+"</div>").appendTo(o),$(".scroll-btn-prev").click(function(n){n.preventDefault();var e=$(this).attr("data-carousel"),i=$("#"+e).find(".carousel").first(),t=parseInt(c*r),a=parseInt(i.css("left"));if(0>a){var o=a+t;i.css({left:o})}}),$(".scroll-btn-next").click(function(n){n.preventDefault();var e=$(this).attr("data-carousel"),i=$("#"+e).find(".carousel").first(),t=parseInt(c*r),o=parseInt(i.css("left")),s=t*(a-1);if(o>-s){var l=o-t;i.css({left:l})}}),$(window).resize(v).trigger("resize")})}function openSearch(){$(document).click(function(){$("body").removeClass("search-opened").addClass("close")}),$("#primary-search").click(function(n){n.stopPropagation()})}function initSearchToggle(){openSearch()}$(document).ready(function(){initParalax(),initMobileTrigger(),initCarousel(),initSearchToggle()});
//# sourceMappingURL=./main-min.js.map