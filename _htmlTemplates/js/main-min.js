function initParalax(){function t(){$(".parallax").css("background-position",function(){var t=$(this).offset()+r,i=t.top,n="center "+-($(window).scrollTop()-i)*a+"px";return n})}function i(){e=$(window).height(),$(".covers").height()<e&&$(".covers").height(.8*e),t()}function n(){$(".parallax").css("background-position",function(){var t=$(this).offset(),i=t.top,n="center "+-($(window).scrollTop()-i)*a+"px";return n})}var e,a=.5,r="fixed"===$("header").css("position")?$("header").outerHeight():0;$(window).scroll(n),$(window).resize(i).trigger("resize")}function initMobileTrigger(){$(".nav-trigger").click(function(t){t.preventDefault(),$("body").toggleClass("mobile-nav-open")})}function initCarousel(){$(".carousel").each(function(t){var i=$(this),n=i.find(".carousel-item"),e=n.length,a=1,r=1,s=i.parent(),o,c,l,d,p="",u="carousel_"+t,f="<div class='carousel-wrapper' id='"+u+"'></div>";i.wrap(f);var v=function(){o=i.parent().outerWidth(),$(window).outerWidth()<620?(l=.02*o,c=.9*o+l,d=c*e,r=1):(l=.02*o,c=o/3+l/3,d=c*e,r=3),a=Math.ceil(e/r),n.each(function(){$(this).css({width:c,paddingRight:l})}),i.width(d)};v();for(var h=0;a>h;h++)p+=0===h?"<span class='nav-dot-current' data-index='"+h+"'></span>":"<span data-index='"+h+"'></span>";$("<div class='scrollControls'><div class='scroll-btn-prev' data-carousel='"+u+"'><span>prev</span></div><div class='scroll-btn-next' data-carousel='"+u+"'><span>next</span></div></div>").appendTo(s),$("<div class='nav-dots'>"+p+"</div>").appendTo(s),$(".scroll-btn-prev").click(function(t){t.preventDefault();var i=$(this).attr("data-carousel"),n=$("#"+i).find(".carousel").first(),e=parseInt(c*r),a=parseInt(n.css("left"));if(0>a){var s=a+e;n.css({left:s})}}),$(".scroll-btn-next").click(function(t){t.preventDefault();var i=$(this).attr("data-carousel"),n=$("#"+i).find(".carousel").first(),e=parseInt(c*r),s=parseInt(n.css("left")),o=e*(a-1);if(s>-o){var l=s-e;n.css({left:l})}}),$(window).resize(v).trigger("resize")})}$(document).ready(function(){initParalax(),initMobileTrigger(),initCarousel()});
//# sourceMappingURL=./main-min.js.map